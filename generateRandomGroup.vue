<script setup>
import { v4 as uuidv4 } from "uuid";

const choose = choices => {
  var index = Math.floor(Math.random() * choices.length);
  return choices[index];
};

const tld = [
  ".ae",
  ".af",
  ".ag",
  ".ai",
  ".al",
  ".am",
  ".an",
  ".ao",
  ".aq",
  ".ar",
  ".as",
  ".at",
  ".au",
  ".aw",
  ".az",
  ".ba",
  ".bb",
  ".bd",
  ".be",
  ".bf",
  ".bg",
  ".bh",
  ".bi",
  ".bj",
  ".bm",
  ".bn",
  ".bo",
  ".br",
  ".bs",
  ".bt",
  ".bv",
  ".bw",
  ".by",
  ".bz",
  ".ca",
  ".cc",
  ".cf",
  ".cg",
  ".ch",
  ".ci",
  ".ck",
  ".cl",
  ".cm",
  ".cn",
  ".co",
  ".cr",
  ".cu",
  ".cv",
  ".cx",
  ".cy",
  ".cz",
  ".de",
  ".dk",
  ".dj",
  ".dm",
  ".do",
  ".dz",
  ".ec",
  ".ee",
  ".eg",
  ".eh",
  ".er",
  ".es",
  ".et",
  ".fi",
  ".fj",
  ".fk",
  ".fm",
  ".fo",
  ".fr",
  ".fx",
  ".ga",
  ".gd",
  ".ge",
  ".gf",
  ".gg",
  ".gh",
  ".gi",
  ".gl",
  ".gn",
  ".gp",
  ".gq",
  ".gr",
  ".gs",
  ".gt",
  ".gu",
  ".gy",
  ".hk",
  ".hm",
  ".hn",
  ".hr",
  ".ht",
  ".hu",
  ".id",
  ".ie",
  ".il",
  ".in",
  ".io",
  ".iq",
  ".ir",
  ".is",
  ".it",
  ".je",
  ".jm",
  ".jo",
  ".jp",
  ".ke",
  ".kg",
  ".kh",
  ".ki",
  ".km",
  ".kn",
  ".kp",
  ".kr",
  ".kw",
  ".ky",
  ".kz",
  ".la",
  ".lb",
  ".lc",
  ".li",
  ".lk",
  ".lr",
  ".ls",
  ".lt",
  ".lu",
  ".lv",
  ".ly",
  ".ma",
  ".mc",
  ".md",
  ".mh",
  ".mk",
  ".ml",
  ".mm",
  ".mn",
  ".mo",
  ".mp",
  ".mq",
  ".mr",
  ".ms",
  ".mt",
  ".mu",
  ".mx",
  ".mw",
  ".my",
  ".mz",
  ".na",
  ".nc",
  ".nf",
  ".ne",
  ".ng",
  ".ni",
  ".nl",
  ".no",
  ".np",
  ".nr",
  ".nu",
  ".nz",
  ".om",
  ".pa",
  ".pe",
  ".pf",
  ".ph",
  ".pk",
  ".pl",
  ".pm",
  ".pn",
  ".pq",
  ".pr",
  ".pt",
  ".py",
  ".pw",
  ".qa",
  ".re",
  ".ro",
  ".ru",
  ".rw",
  ".sa",
  ".sb",
  ".sc",
  ".sd",
  ".se",
  ".sg",
  ".sh",
  ".si",
  ".sj",
  ".sk",
  ".sl",
  ".sm",
  ".sn",
  ".so",
  ".sr",
  ".st",
  ".sv",
  ".sy",
  ".sz",
  ".tc",
  ".td",
  ".tf",
  ".th",
  ".tj",
  ".tm",
  ".tn",
  ".to",
  ".tp",
  ".tr",
  ".tt",
  ".tv",
  ".tw",
  ".tz",
  ".ua",
  ".ug",
  ".uk",
  ".um",
  ".us",
  ".uy",
  ".uz",
  ".va",
  ".vc",
  ".ve",
  ".vg",
  ".vi",
  ".vn",
  ".vu",
  ".wf",
  ".ws",
  ".ye",
  ".yt",
  ".yu",
  ".za",
  ".zr",
  ".zm",
  ".zw",
];

// Blacklist containing possible bad words in Dutch and English
const blacklist = [
  "banus",
  "bof",
  "boner",
  "bug",
  "bum",
  "coq",
  "cum",
  "dom",
  "dop",
  "dope",
  "duwen",
  "fag",
  "fap",
  "fuk",
  "gay",
  "homo",
  "hor",
  "jezus",
  "jiz",
  "kak",
  "kater",
  "kike",
  "kut",
  "lul",
  "moron",
  "nemen",
  "nig",
  "niger",
  "palen",
  "penis",
  "pik",
  "pot",
  "rape",
  "rapin",
  "satan",
  "semen",
  "sex",
  "tit",
  "tyfus",
  "zak",
];

// A selection of letters (conflicting letter like `i` and `l` are ommitted)
const consonants = ["b", "c", "d", "f", "g", "h", "k", "p", "q", "r", "s", "t", "v", "w"];
const vowels = ["a", "e", "i", "o", "u"];

// Generate the bime
const generateBime = ({ length } = { length: 5 }) => {
  const letters = [];
  for (let index = 0; index < length; index++) {
    const list = index % 2 ? vowels : consonants;
    const letter = list[Math.floor(Math.random() * list.length)];
    letters.push(letter);
  }
  const bime = letters.join("");
  for (const badWord of blacklist) if (bime.indexOf(badWord) > -1) return generateBime({ length });
  return bime;
};

let hardCodedOrgaInDB = [];

function drawRandomOrga() {
  let rOrga = {
    companyName: generateBime(),
    uuid: uuidv4(),
    firstName: generateBime(),
    lastName: generateBime(),
    email: "",
    phone: { number: "+33" + Math.floor(Math.random() * 10e8).toString() },
  };

  rOrga.email = [rOrga.companyName, "@email", choose(tld)].join("");
  return rOrga;
}

async function fetchOrga() {
  const res = [];
  try {
    for (let i = 0; i < 10; i++) res.push(drawRandomOrga());
    res.push({
      companyName: "henri-IV",
      uuid: uuidv4(),
      firstName: "gareq",
      lastName: "dewih",
      email: "henri2bourbon@vertgalant.fr",
      phone: { number: "+33266651843" },
    });
    res.push({
      companyName: "hex-i",
      uuid: uuidv4(),
      firstName: "gareq",
      lastName: "dewih",
      email: "hex-i@colory.waza",
      phone: { number: "+33266651843" },
    });
    hardCodedOrgaInDB = res;
  } catch (err) {
    console.log("err fetchOrga", err);
    // console.log("relatedCie :", store.relatedCompany);
  }
}
</script>
